// ~~ Generated by projen. To modify, edit .projenrc.js and run "npx projen".

## Validations
#if( !$ctx.args.input.name )
  $util.error("Input name is required.", "InvalidParameter")
#end

## Initialise Shape
#set( $Group = {
  "id": "$util.autoId()"
  "t": "Group"
  "cd": "$util.time.nowISO8601()"
})

## USER INPUTS
#if( $ctx.args.input.version )
  $util.quiet($Group.put("v", "$ctx.args.input.version")
#end

#if( $ctx.args.input.name )
  $util.quiet($Group.put("name", "$ctx.args.input.name")
#end

## KEYS
$util.quiet($Group.put("pk", "$Group.id"))
$util.quiet($Group.put("sk", "$Group.t#$Group.v"))

## DYNAMODB PUT
{
  "version" : "2018-05-29",
  "operation" : "PutItem",
  "key": {
    "pk": $util.dynamodb.toDynamoDBJson($Group.pk),
    "sk": $util.dynamodb.toDynamoDBJson($Group.sk)
  },
  "attributeValues": $util.toJson($Group)
}
